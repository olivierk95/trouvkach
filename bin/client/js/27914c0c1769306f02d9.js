(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{63:function(t,e,r){"use strict";var i=r(4),n=r(2).map,a=r(9).escape,s=r(14).isSafeMethod,o=r(14).getSafeProperty,p=r(55);e.name="OperatorNode",e.path="expression.node",e.factory=function(t,e,h,c){var f=h(r(17));function l(e,r,i,n){if(!(this instanceof l))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof e)throw new TypeError('string expected for parameter "op"');if("string"!=typeof r)throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(i)||!i.every(t.isNode))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=!0===n,this.op=e,this.fn=r,this.args=i||[]}function d(t,e,r,i,n){var a,s=p.getPrecedence(t,e),o=p.getAssociativity(t,e);if("all"===e||i.length>2&&"OperatorNode:add"!==t.getIdentifier()&&"OperatorNode:multiply"!==t.getIdentifier())return i.map(function(t){switch(t.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});switch(i.length){case 0:a=[];break;case 1:var h=p.getPrecedence(i[0],e);if(n&&null!==h){var c,f;if("keep"===e?(c=i[0].getIdentifier(),f=t.getIdentifier()):(c=i[0].getContent().getIdentifier(),f=t.getContent().getIdentifier()),!1===p.properties[s][f].latexLeftParens){a=[!1];break}if(!1===p.properties[h][c].latexParens){a=[!1];break}}if(null===h){a=[!1];break}if(h<=s){a=[!0];break}a=[!1];break;case 2:var l,d,g=p.getPrecedence(i[0],e),u=p.isAssociativeWith(t,i[0],e);l=null!==g&&(g===s&&"right"===o&&!u||g<s);var m,y,v,N=p.getPrecedence(i[1],e),I=p.isAssociativeWith(t,i[1],e);d=null!==N&&(N===s&&"left"===o&&!I||N<s),n&&("keep"===e?(m=t.getIdentifier(),y=t.args[0].getIdentifier(),v=t.args[1].getIdentifier()):(m=t.getContent().getIdentifier(),y=t.args[0].getContent().getIdentifier(),v=t.args[1].getContent().getIdentifier()),null!==g&&(!1===p.properties[s][m].latexLeftParens&&(l=!1),!1===p.properties[g][y].latexParens&&(l=!1)),null!==N&&(!1===p.properties[s][m].latexRightParens&&(d=!1),!1===p.properties[N][v].latexParens&&(d=!1))),a=[l,d];break;default:"OperatorNode:add"!==t.getIdentifier()&&"OperatorNode:multiply"!==t.getIdentifier()||(a=i.map(function(r){var i=p.getPrecedence(r,e),n=p.isAssociativeWith(t,r,e),a=p.getAssociativity(r,e);return null!==i&&(s===i&&o===a&&!n||i<s)}))}return i.length>=2&&"OperatorNode:multiply"===t.getIdentifier()&&t.implicit&&"auto"===e&&"hide"===r&&(a=i.map(function(t,e){var r="ParenthesisNode"===t.getIdentifier();return!(!a[e]&&!r)})),a}return l.prototype=new f,l.prototype.type="OperatorNode",l.prototype.isOperatorNode=!0,l.prototype._compile=function(t,e){if("string"!=typeof this.fn||!s(t,this.fn))throw t[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var r=o(t,this.fn),i=n(this.args,function(r){return r._compile(t,e)});if(1===i.length){var a=i[0];return function(t,e,i){return r(a(t,e,i))}}if(2===i.length){var p=i[0],h=i[1];return function(t,e,i){return r(p(t,e,i),h(t,e,i))}}return function(t,e,a){return r.apply(null,n(i,function(r){return r(t,e,a)}))}},l.prototype.forEach=function(t){for(var e=0;e<this.args.length;e++)t(this.args[e],"args["+e+"]",this)},l.prototype.map=function(t){for(var e=[],r=0;r<this.args.length;r++)e[r]=this._ifNode(t(this.args[r],"args["+r+"]",this));return new l(this.op,this.fn,e,this.implicit)},l.prototype.clone=function(){return new l(this.op,this.fn,this.args.slice(0),this.implicit)},l.prototype.isUnary=function(){return 1===this.args.length},l.prototype.isBinary=function(){return 2===this.args.length},l.prototype._toString=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=t&&t.implicit?t.implicit:"hide",i=this.args,n=d(this,e,r,i,!1);if(1===i.length){var a=p.getAssociativity(this,e),s=i[0].toString(t);return n[0]&&(s="("+s+")"),"right"===a?this.op+s:s+this.op}if(2===i.length){var o=i[0].toString(t),h=i[1].toString(t);return n[0]&&(o="("+o+")"),n[1]&&(h="("+h+")"),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?o+" "+h:o+" "+this.op+" "+h}if(i.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var c=i.map(function(e,r){return e=e.toString(t),n[r]&&(e="("+e+")"),e});return this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?c.join(" "):c.join(" "+this.op+" ")}return this.fn+"("+this.args.join(", ")+")"},l.prototype.toJSON=function(){return{mathjs:"OperatorNode",op:this.op,fn:this.fn,args:this.args,implicit:this.implicit}},l.fromJSON=function(t){return new l(t.op,t.fn,t.args,t.implicit)},l.prototype.toHTML=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=t&&t.implicit?t.implicit:"hide",i=this.args,n=d(this,e,r,i,!1);if(1===i.length){var s=p.getAssociativity(this,e),o=i[0].toHTML(t);return n[0]&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>'),"right"===s?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+a(this.op)+"</span>"+o:'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+a(this.op)+"</span>"+o}if(2===i.length){var h=i[0].toHTML(t),c=i[1].toHTML(t);return n[0]&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>'),n[1]&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?h+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+c:h+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+a(this.op)+"</span>"+c}var f=i.map(function(e,r){return e=e.toHTML(t),n[r]&&(e='<span class="math-parenthesis math-round-parenthesis">(</span>'+e+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e});return i.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())?this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?f.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):f.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+a(this.op)+"</span>"):'<span class="math-function">'+a(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+f.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'},l.prototype._toTex=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=t&&t.implicit?t.implicit:"hide",n=this.args,a=d(this,e,r,n,!0),s=i.operators[this.fn];if(s=void 0===s?this.op:s,1===n.length){var o=p.getAssociativity(this,e),h=n[0].toTex(t);return a[0]&&(h="\\left(".concat(h,"\\right)")),"right"===o?s+h:h+s}if(2===n.length){var c=n[0],f=c.toTex(t);a[0]&&(f="\\left(".concat(f,"\\right)"));var l,g=n[1].toTex(t);switch(a[1]&&(g="\\left(".concat(g,"\\right)")),l="keep"===e?c.getIdentifier():c.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return s+"{"+f+"}{"+g+"}";case"OperatorNode:pow":switch(f="{"+f+"}",g="{"+g+"}",l){case"ConditionalNode":case"OperatorNode:divide":f="\\left(".concat(f,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&"hide"===r)return f+"~"+g}return f+s+g}if(n.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var u=n.map(function(e,r){return e=e.toTex(t),a[r]&&(e="\\left(".concat(e,"\\right)")),e});return"OperatorNode:multiply"===this.getIdentifier()&&this.implicit?u.join("~"):u.join(s)}return"\\mathrm{"+this.fn+"}\\left("+n.map(function(e){return e.toTex(t)}).join(",")+"\\right)"},l.prototype.getIdentifier=function(){return this.type+":"+this.fn},l}}}]);