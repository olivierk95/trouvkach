(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{52:function(t,e,r){"use strict";var n=r(33),i=r(12),a=n.string,o=n.array,s=n.object,h=n.number,u=Array.isArray,p=h.isNumber,f=h.isInteger,l=a.isString,d=o.validateIndex;e.name="DenseMatrix",e.path="type",e.factory=function(t,e,h,c){var _=h(r(70)),y=h(r(91));function w(e,r){if(!(this instanceof w))throw new SyntaxError("Constructor must be called with the new operator");if(r&&!l(r))throw new Error("Invalid datatype: "+r);if(t.isMatrix(e))"DenseMatrix"===e.type?(this._data=s.clone(e._data),this._size=s.clone(e._size),this._datatype=r||e._datatype):(this._data=e.toArray(),this._size=e.size(),this._datatype=r||e._datatype);else if(e&&u(e.data)&&u(e.size))this._data=e.data,this._size=e.size,this._datatype=r||e.datatype;else if(u(e))this._data=function t(e){for(var r=0,n=e.length;r<n;r++){var i=e[r];u(i)?e[r]=t(i):i&&!0===i.isMatrix&&(e[r]=t(i.valueOf()))}return e}(e),this._size=o.size(this._data),o.validate(this._data,this._size),this._datatype=r;else{if(e)throw new TypeError("Unsupported type of data ("+n.types.type(e)+")");this._data=[],this._size=[0],this._datatype=r}}function g(t,e,r){if(0===e.length){for(var n=t._data;u(n);)n=n[0];return n}return t._size=e.slice(0),t._data=o.resize(t._data,t._size,r),t}function z(t,e,r){for(var n=t._size.slice(0),i=!1;n.length<e.length;)n.push(0),i=!0;for(var a=0,o=e.length;a<o;a++)e[a]>n[a]&&(n[a]=e[a],i=!0);i&&g(t,n,r)}return w.prototype=new y,w.prototype.type="DenseMatrix",w.prototype.isDenseMatrix=!0,w.prototype.getDataType=function(){return _(this._data)},w.prototype.storage=function(){return"dense"},w.prototype.datatype=function(){return this._datatype},w.prototype.create=function(t,e){return new w(t,e)},w.prototype.subset=function(e,r,n){switch(arguments.length){case 1:return function(e,r){if(!t.isIndex(r))throw new TypeError("Invalid index");if(r.isScalar())return e.get(r.min());var n=r.size();if(n.length!==e._size.length)throw new i(n.length,e._size.length);for(var a=r.min(),o=r.max(),s=0,h=e._size.length;s<h;s++)d(a[s],e._size[s]),d(o[s],e._size[s]);return new w(function t(e,r,n,i){var a=i===n-1,o=r.dimension(i);return a?o.map(function(t){return d(t,e.length),e[t]}).valueOf():o.map(function(a){d(a,e.length);var o=e[a];return t(o,r,n,i+1)}).valueOf()}(e._data,r,n.length,0),e._datatype)}(this,e);case 2:case 3:return function(e,r,n,a){if(!r||!0!==r.isIndex)throw new TypeError("Invalid index");var h,u=r.size(),p=r.isScalar();if(t.isMatrix(n)?(h=n.size(),n=n.valueOf()):h=o.size(n),p){if(0!==h.length)throw new TypeError("Scalar expected");e.set(r.min(),n,a)}else{if(u.length<e._size.length)throw new i(u.length,e._size.length,"<");if(h.length<u.length){for(var f=0,l=0;1===u[f]&&1===h[f];)f++;for(;1===u[f];)l++,f++;n=o.unsqueeze(n,u.length,l,h)}if(!s.deepEqual(u,h))throw new i(u,h,">");var c=r.max().map(function(t){return t+1});z(e,c,a);var _=u.length;!function t(e,r,n,i,a){var o=a===i-1,s=r.dimension(a);o?s.forEach(function(t,r){d(t),e[t]=n[r[0]]}):s.forEach(function(o,s){d(o),t(e[o],r,n[s[0]],i,a+1)})}(e._data,r,n,_,0)}return e}(this,e,r,n);default:throw new SyntaxError("Wrong number of arguments")}},w.prototype.get=function(t){if(!u(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new i(t.length,this._size.length);for(var e=0;e<t.length;e++)d(t[e],this._size[e]);for(var r=this._data,n=0,a=t.length;n<a;n++){var o=t[n];d(o,r.length),r=r[o]}return r},w.prototype.set=function(t,e,r){if(!u(t))throw new TypeError("Array expected");if(t.length<this._size.length)throw new i(t.length,this._size.length,"<");var n,a,o;z(this,t.map(function(t){return t+1}),r);var s=this._data;for(n=0,a=t.length-1;n<a;n++)o=t[n],d(o,s.length),s=s[o];return o=t[t.length-1],d(o,s.length),s[o]=e,this},w.prototype.resize=function(t,e,r){if(!u(t))throw new TypeError("Array expected");return g(r?this.clone():this,t,e)},w.prototype.reshape=function(t,e){var r=e?this.clone():this;return r._data=o.reshape(r._data,t),r._size=t.slice(0),r},w.prototype.clone=function(){return new w({data:s.clone(this._data),size:s.clone(this._size),datatype:this._datatype})},w.prototype.size=function(){return this._size.slice(0)},w.prototype.map=function(t){var e=this;return new w({data:function r(n,i){return u(n)?n.map(function(t,e){return r(t,i.concat(e))}):t(n,i,e)}(this._data,[]),size:s.clone(this._size),datatype:this._datatype})},w.prototype.forEach=function(t){var e=this;!function r(n,i){u(n)?n.forEach(function(t,e){r(t,i.concat(e))}):t(n,i,e)}(this._data,[])},w.prototype.toArray=function(){return s.clone(this._data)},w.prototype.valueOf=function(){return this._data},w.prototype.format=function(t){return a.format(this._data,t)},w.prototype.toString=function(){return a.format(this._data)},w.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},w.prototype.diagonal=function(e){if(e){if(t.isBigNumber(e)&&(e=e.toNumber()),!p(e)||!f(e))throw new TypeError("The parameter k must be an integer number")}else e=0;for(var r=e>0?e:0,n=e<0?-e:0,i=this._size[0],a=this._size[1],o=Math.min(i-n,a-r),s=[],h=0;h<o;h++)s[h]=this._data[h+n][h+r];return new w({data:s,size:[o],datatype:this._datatype})},w.diagonal=function(e,r,n,i,a){if(!u(e))throw new TypeError("Array expected, size parameter");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");if(e=e.map(function(e){if(t.isBigNumber(e)&&(e=e.toNumber()),!p(e)||!f(e)||e<1)throw new Error("Size values must be positive integers");return e}),n){if(t.isBigNumber(n)&&(n=n.toNumber()),!p(n)||!f(n))throw new TypeError("The parameter k must be an integer number")}else n=0;i&&l(a)&&(i=c.convert(i,a));var s,h=n>0?n:0,d=n<0?-n:0,_=e[0],y=e[1],g=Math.min(_-d,y-h);if(u(r)){if(r.length!==g)throw new Error("Invalid value array length");s=function(t){return r[t]}}else if(t.isMatrix(r)){var z=r.size();if(1!==z.length||z[0]!==g)throw new Error("Invalid matrix length");s=function(t){return r.get([t])}}else s=function(){return r};i||(i=t.isBigNumber(s(0))?new t.BigNumber(0):0);var m=[];if(e.length>0){m=o.resize(m,e,i);for(var v=0;v<g;v++)m[v+d][v+h]=s(v)}return new w({data:m,size:[_,y]})},w.fromJSON=function(t){return new w(t)},w.prototype.swapRows=function(t,e){if(!(p(t)&&f(t)&&p(e)&&f(e)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return d(t,this._size[0]),d(e,this._size[0]),w._swapRows(t,e,this._data),this},w._swapRows=function(t,e,r){var n=r[t];r[t]=r[e],r[e]=n},t.Matrix._storage.dense=w,t.Matrix._storage.default=w,w},e.lazy=!1}}]);