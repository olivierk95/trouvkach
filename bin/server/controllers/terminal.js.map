{"version":3,"sources":["../../../src/server/controllers/terminal.js"],"names":["show","req","res","Terminals","find","populate","then","terminals","status","json","catch","err","send","errors","message","showById","next","findById","params","id","post","getByPosition","where","latitude","$lte","lat1","$gte","lat2","longitude","lng1","lng2","exports"],"mappings":";;AAAA;;;;AAGA,MAAMA,IAAI,GAAG,CAACC,GAAD,EAAMC,GAAN,KAAc;AACvBC,qBAAUC,IAAV,GACKC,QADL,CACc,MADd,EAEKC,IAFL,CAEUC,SAAS,IAAI;AACfL,IAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACF,MAAAA;AAAD,KAArB;AACH,GAJL,EAKKG,KALL,CAKWC,GAAG,IAAI;AACVT,IAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBI,IAAhB,CAAqB;AAACC,MAAAA,MAAM,EAAE,CAACF,GAAG,CAACG,OAAL;AAAT,KAArB;AACH,GAPL;AAQH,CATD;;AAYA,MAAMC,QAAQ,GAAG,CAACd,GAAD,EAAMC,GAAN,EAAWc,IAAX,KAAoB;AACjCb,qBAAUc,QAAV,CAAmBhB,GAAG,CAACiB,MAAJ,CAAWC,EAA9B,EAAkC,CAACR,GAAD,EAAMS,IAAN,KAAe;AAC7C,QAAIT,GAAJ,EAAS;AACL,aAAOK,IAAI,CAACL,GAAD,CAAX;AACH;;AACDT,IAAAA,GAAG,CAACO,IAAJ,CAASW,IAAT;AACH,GALD;AAMH,CAPD;;AASA,MAAMC,aAAa,GAAG,CAACpB,GAAD,EAAMC,GAAN,KAAc;AAChCC,qBAAUC,IAAV,GACKC,QADL,CACc,MADd,EAEKiB,KAFL,CAEW;AAACC,IAAAA,QAAQ,EAAE;AAACC,MAAAA,IAAI,EAAEvB,GAAG,CAACiB,MAAJ,CAAWO,IAAlB;AAAwBC,MAAAA,IAAI,EAAEzB,GAAG,CAACiB,MAAJ,CAAWS;AAAzC;AAAX,GAFX,EAGKL,KAHL,CAGW;AAACM,IAAAA,SAAS,EAAE;AAACJ,MAAAA,IAAI,EAAEvB,GAAG,CAACiB,MAAJ,CAAWW,IAAlB;AAAwBH,MAAAA,IAAI,EAAEzB,GAAG,CAACiB,MAAJ,CAAWY;AAAzC;AAAZ,GAHX,EAIKxB,IAJL,CAIUC,SAAS,IAAI;AACfL,IAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACF,MAAAA;AAAD,KAArB;AACH,GANL,EAOKG,KAPL,CAOWC,GAAG,IAAI;AACVT,IAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBI,IAAhB,CAAqB;AAACC,MAAAA,MAAM,EAAE,CAACF,GAAG,CAACG,OAAL;AAAT,KAArB;AACH,GATL;AAUH,CAXD;;AAaAiB,OAAO,CAAC/B,IAAR,GAAeA,IAAf;AACA+B,OAAO,CAAChB,QAAR,GAAmBA,QAAnB;AACAgB,OAAO,CAACV,aAAR,GAAwBA,aAAxB","sourcesContent":["import Terminals from \"../models/terminals.js\";\n\n/* GET ALL TERMINALS */\nconst show = (req, res) => {\n    Terminals.find()\n        .populate(\"bank\")\n        .then(terminals => {\n            res.status(200).json({terminals});\n        })\n        .catch(err => {\n            res.status(500).send({errors: [err.message]});\n        });\n};\n\n/* GET ONE TERMINAL */\nconst showById = (req, res, next) => {\n    Terminals.findById(req.params.id, (err, post) => {\n        if (err) {\n            return next(err);\n        }\n        res.json(post);\n    });\n};\n\nconst getByPosition = (req, res) => {\n    Terminals.find()\n        .populate(\"bank\")\n        .where({latitude: {$lte: req.params.lat1, $gte: req.params.lat2}})\n        .where({longitude: {$lte: req.params.lng1, $gte: req.params.lng2}})\n        .then(terminals => {\n            res.status(200).json({terminals});\n        })\n        .catch(err => {\n            res.status(500).send({errors: [err.message]});\n        });\n};\n\nexports.show = show;\nexports.showById = showById;\nexports.getByPosition = getByPosition;\n"],"file":"terminal.js"}